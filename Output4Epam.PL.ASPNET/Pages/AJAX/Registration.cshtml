@using Output4Epam.Providers
@using Output4Epam.Entities

@{
	if (IsPost)
	{
		try
		{

			string login = Request["login"];
			string password = Request["password"];

			LogicProvider.RegUserLogic.Registrate(login, password);
			LoggerProvider.Log.Info($"{User.Identity.Name} added to database.");
		}
		catch (ArgumentException)
		{
			Response.Redirect("/Pages/ErrorPages/400.cshtml");
		}
		catch
		{
			Response.Redirect("/Pages/ErrorPages/Other.cshtml");
		}
	}
	Response.Redirect("/Pages/StructureElements/Content.cshtml");
	return;
}